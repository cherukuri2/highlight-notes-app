<div class="content-container">
  <!-- Main content div where the highlighted range offsets are relative to -->
  <div class="main-content">
    <!-- Display each content item on the current page with safe HTML rendering -->
    <p
      *ngFor="let content of pageContent"
      class="content-item"
      [innerHTML]="content | safeHtml"
      (mouseup)="showContextMenu($event)"
    ></p>
  </div>

  <!-- Pagination controls -->
  <div class="pagination-controls">
    <button (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
  </div>
</div>

<!-- Context Menu for highlight options -->
<div
  *ngIf="isContextMenuVisible"
  class="context-menu"
  [ngStyle]="{ top: contextMenuPosition.y + 'px', left: contextMenuPosition.x + 'px' }"
>
  <div class="checkbox-container">
    <!-- Color selection checkboxes -->
    <input
      type="checkbox"
      *ngFor="let color of colors; let i = index"
      [style.backgroundColor]="color"
      (click)="selectColor(i)"
      [checked]="selectedColorIndex === i"
    />
  </div>

  <!-- Action buttons for highlight, add note, and cancel -->
  <div class="button-container">
    <button (click)="highlightText()">Save Highlight</button>
    <button (click)="addNote()">Add Note</button>
    <button (click)="hideContextMenu()">Cancel</button>
  </div>
</div>
